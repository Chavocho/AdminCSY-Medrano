<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

</head>
<body onload="inicializar()">
<div><h4>Para obtener una ubicaci칩n m치s exacta es necesario ingresar datos especificos en la direcci칩n</h4></div>
<div id="ubicacion_persona" style="width: 850px; height: 525px;"></div>
	  
	  
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="http://maps.google.com/maps?file=api&v=3&key=AIzaSyBAsxp5MZW-eJlJryQnekIxNZHAYU0BhU4"></script>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script type="text/javascript">
	var geocoder = new google.maps.Geocoder();
	var mapa; //este sera nuestro objeto mapa declarado de forma global
	// arreglo que contendra las direcciones a transformar para los diferentes destinos de la ruta
	//var ruta=["@onta_el_cliete@"];
	//Esta funcion nos a침adira las marcas de forma dinamica en el mapa
	function agregarMarca(localizacion)
	{
		marca_mapa = new google.maps.Marker({
			position: localizacion,
			map: mapa
		});
	}
	
	function convertirDireccion(direccion)
	{
		var request ={address: direccion}
					
		geocoder.geocode(request, function(results, status) 
		{	
			if (status == google.maps.GeocoderStatus.OK) 
			{
				//Centrar el mapa
				mapa.setCenter(results[0].geometry.location);	
				agregarMarca(results[0].geometry.location);
			}
		});
	}
	
	/*
	* 
	*
	*/
	function inicializar() 
	{
			
		var opcionesMapa = {
			zoom: 13,
			mapTypeId: google.maps.MapTypeId.ROADMAP
			};		
		mapa = new google.maps.Map(document.getElementById('ubicacion_persona'), opcionesMapa);
		convertirDireccion("@direccion_persona@");
	}
 
</script>
</body>
</html>